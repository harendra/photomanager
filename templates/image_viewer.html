{% extends "base.html" %}

{% block title %}{{ image.filename }}{% endblock %}

{% block content %}
<a href="{{ url_for('index') }}">&larr; Back to Gallery</a>
<hr>

<div class="image-view text-center my-4">
    <h2>{{ image.filename }}</h2>
    <img src="{{ url_for('thumbnail', image_id=image.id) }}" alt="{{ image.filename }}" class="img-fluid rounded shadow">
</div>

<div class="row">
    <div class="col-md-8 offset-md-2">
        <div class="card">
            <div class="card-header">
                Metadata
            </div>
            <ul class="list-group list-group-flush">
                <li class="list-group-item"><strong>File Path:</strong> {{ image.filepath }}</li>
                <li class="list-group-item"><strong>Date Taken:</strong> {{ image.date_taken }}</li>
                <li class="list-group-item"><strong>Dimensions:</strong> {{ image.width }}x{{ image.height }}</li>
                <li class="list-group-item"><strong>File Size:</strong> {{ "%.2f" | format(image.filesize / 1024) }} KB</li>
                <li class="list-group-item"><strong>LLM Tags:</strong> {{ image.llm_tags or 'Not yet processed' }}</li>
            </ul>
        </div>
    </div>
</div>

<nav class="mt-4 d-flex justify-content-between">
    {% if prev_id %}
        <a href="{{ url_for('image_viewer', image_id=prev_id) }}" class="btn btn-outline-secondary">&larr; Previous</a>
    {% else %}
        <a href="#" class="btn btn-outline-secondary disabled">&larr; Previous</a>
    {% endif %}

    {% if next_id %}
        <a href="{{ url_for('image_viewer', image_id=next_id) }}" class="btn btn-outline-secondary">Next &rarr;</a>
    {% else %}
        <a href="#" class="btn btn-outline-secondary disabled">Next &rarr;</a>
    {% endif %}
</nav>
{% endblock %}
